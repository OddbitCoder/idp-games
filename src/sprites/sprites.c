#include "../libs-udev/txtadv.h"
#include "../libs-udev/utils.h"

//#include <stdio.h>
//#include <stdlib.h>
//#include <string.h>

// #include "../libs-udev/avdc.h"
// #include "../libs-udev/utils.h"
// #include "../libs-udev/gdp.h"

// const uint8_t *sprite_rle[] = {
// 	"\x03\x3F\x1A\x81",
// 	"\x03\x3F\x1A\x82",
// 	"\x03\x3F\x1A\x82",
// 	"\x03\x3F\x1A\x83",
// 	"\x03\x3F\x1B\x82",
// 	"\x03\x3F\x1B\x82",
// 	"\x03\x3F\x1B\x82",
// 	"\x05\x3F\x17\x82\x02\x82",
// 	"\x05\x3F\x16\x83\x01\x82",
// 	"\x05\x3F\x16\x83\x01\x82",
// 	"\x05\x3F\x16\x82\x02\x82",
// 	"\x05\x3F\x16\x82\x02\x82",
// 	"\x06\x17\x8E\x30\x83\x01\x81",
// 	"\x0C\x17\x81\xC1\x84\xC1\x81\xC1\x81\xC3\x81\x31\x82",
// 	"\x0E\x17\x81\xC1\x84\xC1\x81\xC1\x81\xC3\x81\x01\x93\x1D\x82",
// 	"\x0A\x17\x81\xC1\x84\xC7\x87\xCE\x82\x1C\x81",
// 	"\x08\x16\x94\xCC\x81\xC4\x81\x1B\x81",
// 	"\x0A\x16\x86\xC5\x89\xCD\x81\xC4\x81\x19\x83",
// 	"\x0C\x16\x81\xC1\x84\xC4\x8B\xCD\x81\xC3\x81\x18\x84",
// 	"\x0C\x16\x81\xC1\x84\xC4\x8C\xCC\x81\xC4\x81\x17\x85",
// 	"\x0E\x16\x81\xC1\x84\xC4\x8D\xC1\x82\xC7\x84\xC2\x81\x17\x86",
// 	"\x0E\x16\x81\xC1\x84\xC3\x8F\xC1\x81\xC9\x81\xC4\x81\x15\x88",
// 	"\x0A\x16\x81\xC1\x96\xC1\x81\xCE\x81\x14\x89",
// 	"\x08\x16\x81\xC1\x98\xCE\x81\x14\x8A",
// 	"\x0A\x16\x81\xC1\x98\xC2\x83\xC8\x82\x13\x8B",
// 	"\x0C\x16\x81\xC1\x98\xC2\x82\xC1\x8A\x13\x83\xC4\x84",
// 	"\x0E\x16\x81\xC1\x98\xC2\x83\xC8\x82\x0E\x87\xC1\x84\xC1\x84",
// 	"\x14\x16\x81\xC1\x8C\xC1\x8B\xC1\x81\xCC\x81\x0C\x82\xC1\x81\xC3\x81\xC1\x86\xC1\x83",
// 	"\x14\x16\x81\xC1\x9A\xC3\x83\xC2\x83\xC1\x81\x0B\x81\xC3\x81\xC3\x81\xC1\x86\xC1\x83",
// 	"\x14\x16\x81\xC1\x8E\xC1\x88\xC1\x86\xC1\x84\x01\x82\x0B\x81\xC4\x81\xC5\x86\xC1\x83",
// 	"\x18\x16\x81\xC1\x8F\xC1\x87\xC1\x81\xC1\x81\xC1\x84\x10\x81\xC1\x81\xC4\x81\xC2\x81\xC1\x86\xC1\x82",
// 	"\x12\x16\x81\xC1\x95\xC3\x83\xC3\x86\x0B\x81\xC1\x82\xC4\x83\xC3\x84\xC1\x83",
// 	"\x1A\x16\x81\xC1\x83\xC4\x89\xC3\x82\xC3\x83\xC3\x84\xC2\x81\x09\x81\xC1\x81\xC1\x81\xC4\x84\xC3\x81\xC2\x83",
// 	"\x16\x16\x83\xC7\x88\xC4\x81\xC3\x83\xC3\x83\xC3\x81\x08\x81\xC1\x81\xC1\x81\xC6\x84\xC3\x83",
// 	"\x14\x16\x83\xC8\x87\xC4\x81\xC9\x83\xC3\x81\x07\x82\xC1\x82\xC7\x84\xC1\x81\xC1\x81",
// 	"\x14\x16\x84\xC7\x87\xC4\x81\xC9\x83\xC3\x81\x06\x81\xC1\x81\xC1\x81\xC9\x84\xC3\x81",
// 	"\x14\x15\x85\xC8\x86\xC4\x81\xC9\x83\xC3\x82\x05\x81\xC1\x81\xC8\x82\xC2\x83\xC3\x81",
// 	"\x16\x14\x87\xC3\x8A\xC4\x89\xC1\x83\xC3\x82\x04\x81\xC2\x81\xC7\x81\xC2\x81\xC2\x82\xC3\x81",
// 	"\x16\x13\x8E\xC2\x85\xC4\x89\xC1\x83\xC3\x81\xC1\x81\x03\x81\xC3\x81\xC5\x81\xC3\x81\xC3\x84",
// 	"\x18\x12\x8C\xC5\x85\xC4\x82\xC6\x81\xC1\x83\xC3\x81\xC1\x81\x03\x81\xC3\x81\xC4\x81\xC5\x81\xC5\x81",
// 	"\x12\x11\x8D\xC6\x84\xC4\x8D\xC3\x81\xC2\x81\x02\x81\xC4\x82\xC1\x81\xC7\x85",
// 	"\x0E\x11\x8E\xC4\x85\xD4\x81\xC2\x81\x02\x81\xC4\x83\xC6\x86",
// 	"\x0E\x11\x8F\xC1\x87\xD4\x81\xC3\x81\x01\x83\xC1\x83\xC6\x86",
// 	"\x14\x11\x97\xC1\x81\xC1\x82\xC1\x81\xC1\x81\xC1\x82\xC1\x81\xC6\x81\xC3\x8A\xC4\x86",
// 	"\x14\x11\x97\xC1\x81\xC1\x82\xC1\x81\xC1\x81\xC1\x82\xC1\x81\xC6\x81\xC2\x8C\xC1\x87",
// 	"\x12\x12\x96\xC1\x81\xC1\x82\xC1\x81\xC1\x81\xC1\x82\xC1\x81\xC6\x81\xC2\x93",
// 	"\x10\x11\x97\xC1\x81\xC1\x82\xC1\x81\xC1\x81\xC1\x82\xC1\x81\xC6\x95",
// 	"\x06\x11\x92\xC1\x84\xD4\x94",
// 	"\x06\x0D\x9F\xC2\x89\xC2\x96",
// 	"\x08\x0C\x81\xC2\x85\xC1\x9A\xC5\x96",
// 	"\x0C\x0C\x83\xC1\x84\xC2\x99\xC9\x88\xC1\x85\xC1\x81",
// 	"\x14\x0C\x84\xC1\x82\xC1\x81\xC1\x88\x01\x86\xC2\x89\xC7\x86\xC1\x83\xC1\x83\xC1\x81",
// 	"\x12\x0C\x84\xC1\x82\xC2\x82\x08\x8E\xC2\x81\xC7\x81\xC1\x84\xC2\x85\xC1\x81",
// 	"\x10\x0C\x84\xC1\x85\x0A\x8D\xC2\x81\xC7\x81\xC1\x85\xC1\x84\xC1\x81",
// 	"\x0E\x0C\x84\xC1\x85\x0A\x90\xC1\x81\xC3\x81\xC1\x8B\xC1\x81",
// 	"\x0C\x0D\x89\x0A\x8F\xC2\x81\xC3\x81\xC2\x89\xC1\x81",
// 	"\x04\x0E\x88\x0A\xA2",
// 	"\x0C\x0F\x87\x0A\x83\x01\x87\xC3\x82\xC7\x81\x02\x84",
// 	"\x0E\x0F\x84\xC3\x81\x09\x83\x02\x88\xC1\x82\xC7\x81\x03\x82",
// 	"\x08\x0F\x88\x09\x83\x03\x8A\xC7\x81",
// 	"\x08\x0D\x86\xC4\x81\x08\x84\x02\x91",
// 	"\x0C\x0D\x86\xC4\x82\x08\x83\x03\x8A\xC1\x83\xC1\x81",
// 	"\x08\x0C\x84\xC3\x86\x08\x91\xC3\x82",
// 	"\x0A\x0C\x87\xC5\x81\x09\x8F\xC1\x83\xC1\x81",
// 	"\x08\x0C\x87\xC5\x82\x0A\x8E\xC3\x81",
// 	"\x08\x0C\x87\xC5\x82\x0E\x89\xC4\x81",
// 	"\x06\x0C\x87\xC5\x82\x09\x96",
// 	"\x0C\x0C\x88\xC5\x81\x07\x8D\xC3\x84\xC1\x82\xC1\x81",
// 	"\x0E\x0C\x88\xC5\x81\x07\x85\xC3\x85\xC4\x81\xC1\x84\xC2\x81",
// 	"\x0E\x0C\x88\xC5\x82\x05\x85\xC4\x85\xC1\x85\xC2\x82\xC2\x82",
// 	"\x0E\x0C\x88\xC5\x82\x04\x88\xC2\x81\xC1\x87\xC2\x85\xC2\x82",
// 	"\x0E\x0C\x89\xC3\x83\x03\x89\xC3\x81\xC8\x86\xC2\x81\xC1\x81",
// 	"\x0E\x0D\x8E\x02\x85\xC1\x84\xC3\x83\xC6\x86\xC2\x81\xC2\x81",
// 	"\x12\x0D\x8B\xC2\x81\x02\x84\xC3\x83\xC3\x81\xC2\x87\xC1\x84\xC2\x81\xC3\x81",
// 	"\x0E\x0D\x8B\xC2\x87\xC4\x82\xC3\x81\xC9\x84\xC3\x82\xC3\x81",
// 	"\x0C\x0D\x8A\xC3\x87\xC4\x83\xC1\x8F\xC2\x84\xC3\x81",
// 	"\x0A\x0D\x91\xC2\x83\xC1\x87\x09\x8B\xC3\x81",
// 	"\x06\x0F\x8E\xC4\x89\x0A\x93",
// 	"\x0C\x11\x86\x02\x84\xC2\x81\xC2\x83\x12\x8B\xC4\x81",
// 	"\x0C\x19\x83\xC2\x81\xC3\x82\x16\x88\xC2\x81\xC1\x81",
// 	"\x0A\x19\x82\xC7\x81\x19\x86\xC2\x81\xC1\x81",
// 	"\x08\x18\x84\xC5\x82\x19\x86\xC4\x81",
// 	"\x08\x18\x86\xC2\x82\x1A\x86\xC4\x81",
// 	"\x08\x18\x85\xC1\x83\x1A\x87\xC4\x81",
// 	"\x06\x17\x86\xC2\x81\x1B\x8B",
// 	"\x08\x17\x85\xC2\x81\x1C\x87\xC1\x81",
// 	"\x08\x17\x84\xC2\x81\x1D\x84\xC4\x81",
// 	"\x08\x16\x85\xC1\x81\x1E\x84\xC3\x81",
// 	"\x06\x16\x87\x1D\x85\xC2\x81",
// 	"\x06\x15\x87\x1E\x84\xC3\x81",
// 	"\x06\x15\x86\x1F\x84\xC2\x81",
// 	"\x06\x15\x85\x20\x83\xC2\x81",
// 	"\x06\x14\x85\x21\x83\xC2\x81",
// 	"\x06\x14\x84\x22\x83\xC1\x81",
// 	"\x06\x13\x84\x23\x82\xC1\x81",
// 	"\x04\x13\x83\x24\x83",
// 	"\x04\x12\x84\x23\x84",
// 	"\x04\x12\x83\x24\x83",
// 	"\x04\x11\x83\x25\x82",
// 	"\x02\x0F\xB9",
// 	"\x03\x0C\xBF\x88",
// 	"\x02\x11\xBE"
// };

// int main() {
// 	gdp_init();
// 	avdc_init();

// 	gdp_cls();

// 	gdp_fill_rect(GDP_TOOL_PEN, 10, 10, 220, 120);
// 	gdp_draw_sprite(sprite_rle, 101, 10, 10);

// 	while (!kbhit());

// 	avdc_done();
// 	gdp_done();
// 	return 0;
// }

int main() {
	uint8_t buffer[512];
	//ta_set_mode(TA_MODE_AVDC);
	ta_user_input(buffer, "previous command", 75, true);
	// srand(0);
	// uint16_t buffer[10];
	// memset(buffer, 0, 10 * 2);
	// for (uint16_t i = 0; i < 65000; i++) {
	// 	uint8_t digit = rand() % 10;
	// 	buffer[digit]++;
	// }
	// for (uint8_t i = 0; i < 10; i++) {
	// 	printf("%d\r\n", buffer[i]);
	// }
	// printf("\r\n");
	// srand(0);
	// memset(buffer, 0, 10 * 2);
	// for (uint16_t i = 0; i < 65000; i++) {
	// 	uint8_t digit = rand() % 10;
	// 	buffer[digit]++;
	// }
	// for (uint8_t i = 0; i < 10; i++) {
	// 	printf("%d\r\n", buffer[i]);
	// }
}